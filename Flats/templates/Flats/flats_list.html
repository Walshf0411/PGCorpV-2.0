{% extends 'Accounts/base.html' %}
{% block title %}Rent a Flat{% endblock %}

{% block cssfiles %}
{% load static %}
<link rel="stylesheet" href="{% static 'Flats/flats_list.css'%}">
{% endblock %}

{% block content %}

<div class="container" id="flats">
	<h1>Available flats</h1>
	{% for flat in flats %}
	<div class="flat-box" align="center" draggable="true">
		<div class="img-box">
			<img class="thumbnail" alt="flat image" src="">
		</div><br>
		<strong>Title: </strong>{{ flat.title }}<br>
		<strong>Location: </strong>{{ flat.location }}<br>
		<strong>Rent: </strong>&#8377; {{ flat.rent }}<br><br>
		<a class="flat-link btn btn-info" href="{% url 'flat_detail' flat.hash flat.slug %}">View flat details</a>
	</div>
	{% endfor %}
	<div style="height:20px"></div>
	<div style="clear:both"></div>
</div>

 {% endblock %}
 
 {% block javascript %}
	<!-- This is the stuff used for the side navigation bar .-->
	 <script type="text/javascript">
		var dropper = document.querySelector('#sideNav');
		var flats = document.querySelector(".flat-box");
		
		for(i=0;i<flats.length;i++) {
			flats[0].addEventListener('dragstart', dragStart);
		} 
		function sideNavOpen() {
			 document.getElementById('sideNav').style.left = "0px";
		 }
		 function sideNavClose() {
			document.getElementById('sideNav').style.left = "-200px";
		 }
		 function dragStart(event) {
			event.dataTransfer.setData("Text", event.target.id);
		}
		 function dragDrop(e) {
			event.preventDefault();
			var data = event.dataTransfer.getData("Text");
			event.target.appendChild(document.getElementById(data));
		}

 	</script>
 {% endblock %}
